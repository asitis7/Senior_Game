<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í•œê¸€ í¬ë¡œìŠ¤ì›Œë“œ - ì¤‘ (ë³´í†µ)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #fd79a8 0%, #fdcb6e 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
        }

        .header {
            text-align: center;
            margin-bottom: 25px;
            color: white;
        }

        .header h1 {
            font-size: 2.3em;
            margin-bottom: 8px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .difficulty-badge {
            background: #FF9800;
            color: white;
            padding: 8px 18px;
            border-radius: 18px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 8px;
            font-size: 1em;
        }

        .game-container {
            background: white;
            border-radius: 18px;
            padding: 25px;
            box-shadow: 0 12px 30px rgba(0,0,0,0.3);
            max-width: 900px;
            width: 100%;
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 25px;
        }

        .crossword-section {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .crossword-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background: #333;
            border: 3px solid #333;
            border-radius: 8px;
            padding: 4px;
            margin-bottom: 15px;
        }

        .grid-cell {
            width: 42px;
            height: 42px;
            background: white;
            border: 1px solid #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            font-weight: bold;
            position: relative;
            border-radius: 2px;
        }

        .grid-cell.black {
            background: #333;
        }

        .grid-cell.input {
            background: #f8f9fa;
            cursor: text;
        }

        .grid-cell input {
            width: 100%;
            height: 100%;
            border: none;
            text-align: center;
            font-size: 1.2em;
            font-weight: bold;
            background: transparent;
            color: #333;
            outline: none;
        }

        .grid-cell input:focus {
            background: #e3f2fd;
        }

        .grid-cell.correct {
            background: #e8f5e8;
        }

        .grid-cell.incorrect {
            background: #ffebee;
        }

        .cell-number {
            position: absolute;
            top: 1px;
            left: 2px;
            font-size: 0.6em;
            color: #666;
            font-weight: normal;
        }

        .clues-section {
            background: #f8f9fa;
            padding: 18px;
            border-radius: 10px;
            max-height: 500px;
            overflow-y: auto;
        }

        .clues-title {
            font-size: 1.2em;
            color: #333;
            margin-bottom: 12px;
            font-weight: bold;
            text-align: center;
        }

        .clues-group {
            margin-bottom: 15px;
        }

        .clues-group h3 {
            color: #fd79a8;
            margin-bottom: 8px;
            font-size: 1em;
        }

        .clue-item {
            margin-bottom: 6px;
            padding: 6px 8px;
            background: white;
            border-radius: 4px;
            border-left: 3px solid #fd79a8;
            font-size: 0.9em;
            line-height: 1.3;
        }

        .stats {
            grid-column: 1 / -1;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 15px;
            background: #f1f2f6;
            padding: 15px;
            border-radius: 10px;
        }

        .stat-item {
            text-align: center;
            background: white;
            padding: 10px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .stat-value {
            font-size: 1.3em;
            font-weight: bold;
            color: #fd79a8;
            margin-bottom: 3px;
        }

        .stat-label {
            font-size: 0.8em;
            color: #666;
        }

        .controls {
            grid-column: 1 / -1;
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-top: 15px;
        }

        .control-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 20px;
            font-size: 0.95em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 3px 6px rgba(0,0,0,0.2);
        }

        .check-btn {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
        }

        .hint-btn {
            background: linear-gradient(135deg, #FF9800, #F57C00);
            color: white;
        }

        .clear-btn {
            background: linear-gradient(135deg, #f44336, #d32f2f);
            color: white;
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(0,0,0,0.3);
        }

        .control-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .result-message {
            grid-column: 1 / -1;
            text-align: center;
            padding: 15px;
            border-radius: 12px;
            font-size: 1.2em;
            font-weight: bold;
            margin-top: 15px;
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }

        .result-success {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 768px) {
            .game-container {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .grid-cell {
                width: 35px;
                height: 35px;
                font-size: 1em;
            }

            .header h1 {
                font-size: 1.8em;
            }

            .clues-section {
                max-height: 300px;
            }

            .stats {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ§  í•œê¸€ í¬ë¡œìŠ¤ì›Œë“œ</h1>
        <div class="difficulty-badge">ì¤‘ (ë³´í†µ) - 7x7</div>
    </div>

    <div class="game-container">
        <div class="stats">
            <div class="stat-item">
                <div class="stat-value" id="correctCount">0</div>
                <div class="stat-label">ì •ë‹µ ìˆ˜</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="totalCount">19</div>
                <div class="stat-label">ì „ì²´ ë¬¸ì œ</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="progressPercent">0%</div>
                <div class="stat-label">ì§„í–‰ë¥ </div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="hintCount">5</div>
                <div class="stat-label">ë‚¨ì€ íŒíŠ¸</div>
            </div>
        </div>

        <div class="crossword-section">
            <div class="crossword-grid" id="crosswordGrid"></div>
        </div>

        <div class="clues-section">
            <div class="clues-title">ğŸ“ ë‹¨ì„œ</div>
            
            <div class="clues-group">
                <h3>â†’ ê°€ë¡œ</h3>
                <div class="clue-item">1. ì±…ì„ ì½ê³  ì“°ëŠ” ëŠ¥ë ¥</div>
                <div class="clue-item">3. ìš°ë¦¬ë‚˜ë¼ ì „í†µ ìŒì‹, ê¹€ì¹˜ì˜ ì£¼ì¬ë£Œ</div>
                <div class="clue-item">6. ë´„ì— í”¼ëŠ” ë¶„í™ìƒ‰ ê½ƒ</div>
                <div class="clue-item">8. í•˜ëŠ˜ì„ ë‚˜ëŠ” êµí†µìˆ˜ë‹¨</div>
                <div class="clue-item">10. ë³‘ì„ ê³ ì¹˜ëŠ” ì‚¬ëŒ</div>
                <div class="clue-item">11. ëª©ì´ ê¸¸ê³  ë¬´ëŠ¬ê°€ ìˆëŠ” ë™ë¬¼</div>
            </div>

            <div class="clues-group">
                <h3>â†“ ì„¸ë¡œ</h3>
                <div class="clue-item">1. ìš°ë¦¬ë‚˜ë¼ì˜ í™”í ë‹¨ìœ„</div>
                <div class="clue-item">2. ì˜›ë‚  ì´ì•¼ê¸°ë¥¼ ë§í•˜ëŠ” ê²ƒ</div>
                <div class="clue-item">4. ë°¤í•˜ëŠ˜ì˜ ë³„ë“¤ì´ ëª¨ì¸ ê²ƒ</div>
                <div class="clue-item">5. ê°œë‚˜ ê³ ì–‘ì´ ë“±ì„ ê¸°ë¥´ëŠ” ê²ƒ</div>
                <div class="clue-item">7. ì†ìœ¼ë¡œ ì¹˜ëŠ” ì•…ê¸°</div>
                <div class="clue-item">9. ì—¬ë¦„ì— ì‹œì›í•˜ê²Œ ë¨¹ëŠ” ë¹™ê³¼ë¥˜</div>
            </div>
        </div>

        <div class="controls">
            <button class="control-btn check-btn" onclick="checkAnswers()">âœ… ì •ë‹µ í™•ì¸</button>
            <button class="control-btn hint-btn" onclick="getHint()">ğŸ’¡ íŒíŠ¸</button>
            <button class="control-btn clear-btn" onclick="clearAll()">ğŸ—‘ï¸ ëª¨ë‘ ì§€ìš°ê¸°</button>
        </div>

        <div class="result-message" id="resultMessage"></div>
    </div>

    <script>
        // ì •ë‹µ ë°ì´í„° (7x7)
        const solution = [
            ['ë¬¸', 'í•´', 'ë ¥', '', 'ë³„', 'ì', 'ë¦¬'],
            ['', '', '', '', 'ë°°', '', ''],
            ['ë°±', 'ì¶”', '', 'ì„±', 'ì¶”', '', ''],
            ['', '', '', 'ì¢Œ', '', '', ''],
            ['ë²š', 'ê½ƒ', '', 'ë¦¬', '', 'ë¶', ''],
            ['', '', '', '', '', '', ''],
            ['ë¹„', 'í–‰', 'ê¸°', '', 'ì˜', 'ì‚¬', 'ê¸°']
        ];

        // ë¹ˆ ì¹¸ ìœ„ì¹˜ (ì…ë ¥ ê°€ëŠ¥í•œ ì¹¸)
        const inputCells = [
            [0,0], [0,1], [0,2], [0,4], [0,5], [0,6],
            [1,4], [2,0], [2,1], [2,3], [2,4], [3,3],
            [4,0], [4,1], [4,3], [4,5], [6,0], [6,1], [6,2], [6,4], [6,5], [6,6]
        ];

        let hintUsed = 0;
        const maxHints = 5;

        // ê·¸ë¦¬ë“œ ìƒì„±
        function createGrid() {
            const grid = document.getElementById('crosswordGrid');
            grid.innerHTML = '';

            for (let i = 0; i < 7; i++) {
                for (let j = 0; j < 7; j++) {
                    const cell = document.createElement('div');
                    cell.className = 'grid-cell';
                    cell.dataset.row = i;
                    cell.dataset.col = j;

                    // ì…ë ¥ ê°€ëŠ¥í•œ ì¹¸ì¸ì§€ í™•ì¸
                    const isInputCell = inputCells.some(([row, col]) => row === i && col === j);
                    
                    if (!isInputCell) {
                        cell.classList.add('black');
                    } else {
                        cell.classList.add('input');
                        const input = document.createElement('input');
                        input.type = 'text';
                        input.maxLength = 1;
                        input.addEventListener('input', handleInput);
                        input.addEventListener('keydown', handleKeyDown);
                        cell.appendChild(input);

                        // ìˆ«ì í‘œì‹œ (ë‹¨ì„œ ë²ˆí˜¸)
                        if ((i === 0 && j === 0) || (i === 0 && j === 4) || 
                            (i === 2 && j === 0) || (i === 2 && j === 3) || 
                            (i === 4 && j === 0) || (i === 4 && j === 5) ||
                            (i === 6 && j === 0) || (i === 6 && j === 4)) {
                            const number = document.createElement('div');
                            number.className = 'cell-number';
                            if (i === 0 && j === 0) number.textContent = '1';
                            else if (i === 0 && j === 4) number.textContent = '2';
                            else if (i === 2 && j === 0) number.textContent = '3';
                            else if (i === 2 && j === 3) number.textContent = '4';
                            else if (i === 4 && j === 0) number.textContent = '6';
                            else if (i === 4 && j === 5) number.textContent = '7';
                            else if (i === 6 && j === 0) number.textContent = '8';
                            else if (i === 6 && j === 4) number.textContent = '10';
                            cell.appendChild(number);
                        }
                    }
                    grid.appendChild(cell);
                }
            }
        }

        function handleInput(event) {
            const input = event.target;
            const value = input.value;
            
            // í•œê¸€ë§Œ ì…ë ¥ í—ˆìš©
            if (value && !/[ã„±-ã…|ã…-ã…£|ê°€-í£]/.test(value)) {
                input.value = '';
                return;
            }

            updateStats();

            // ë‹¤ìŒ ì…ë ¥ í•„ë“œë¡œ ì´ë™
            if (value) {
                moveToNextInput(input);
            }
        }

        function handleKeyDown(event) {
            if (event.key === 'Backspace' && !event.target.value) {
                moveToPrevInput(event.target);
            } else if (event.key === 'ArrowRight') {
                moveToNextInput(event.target);
            } else if (event.key === 'ArrowLeft') {
                moveToPrevInput(event.target);
            } else if (event.key === 'ArrowDown') {
                moveToNextRow(event.target);
            } else if (event.key === 'ArrowUp') {
                moveToPrevRow(event.target);
            }
        }

        function moveToNextInput(currentInput) {
            const cell = currentInput.parentElement;
            const row = parseInt(cell.dataset.row);
            const col = parseInt(cell.dataset.col);
            
            // í˜„ì¬ í–‰ì—ì„œ ë‹¤ìŒ ì…ë ¥ ì¹¸ ì°¾ê¸°
            for (let newCol = col + 1; newCol < 7; newCol++) {
                const nextCell = document.querySelector(`[data-row="${row}"][data-col="${newCol}"]`);
                if (nextCell && nextCell.classList.contains('input')) {
                    nextCell.querySelector('input').focus();
                    return;
                }
            }
            
            // ë‹¤ìŒ í–‰ì—ì„œ ì²« ë²ˆì§¸ ì…ë ¥ ì¹¸ ì°¾ê¸°
            for (let newRow = row + 1; newRow < 7; newRow++) {
                for (let newCol = 0; newCol < 7; newCol++) {
                    const nextCell = document.querySelector(`[data-row="${newRow}"][data-col="${newCol}"]`);
                    if (nextCell && nextCell.classList.contains('input')) {
                        nextCell.querySelector('input').focus();
                        return;
                    }
                }
            }
        }

        function moveToPrevInput(currentInput) {
            const cell = currentInput.parentElement;
            const row = parseInt(cell.dataset.row);
            const col = parseInt(cell.dataset.col);
            
            // í˜„ì¬ í–‰ì—ì„œ ì´ì „ ì…ë ¥ ì¹¸ ì°¾ê¸°
            for (let newCol = col - 1; newCol >= 0; newCol--) {
                const prevCell = document.querySelector(`[data-row="${row}"][data-col="${newCol}"]`);
                if (prevCell && prevCell.classList.contains('input')) {
                    prevCell.querySelector('input').focus();
                    return;
                }
            }
            
            // ì´ì „ í–‰ì—ì„œ ë§ˆì§€ë§‰ ì…ë ¥ ì¹¸ ì°¾ê¸°
            for (let newRow = row - 1; newRow >= 0; newRow--) {
                for (let newCol = 6; newCol >= 0; newCol--) {
                    const prevCell = document.querySelector(`[data-row="${newRow}"][data-col="${newCol}"]`);
                    if (prevCell && prevCell.classList.contains('input')) {
                        prevCell.querySelector('input').focus();
                        return;
                    }
                }
            }
        }

        function moveToNextRow(currentInput) {
            const cell = currentInput.parentElement;
            const row = parseInt(cell.dataset.row);
            const col = parseInt(cell.dataset.col);
            
            for (let newRow = row + 1; newRow < 7; newRow++) {
                const nextCell = document.querySelector(`[data-row="${newRow}"][data-col="${col}"]`);
                if (nextCell && nextCell.classList.contains('input')) {
                    nextCell.querySelector('input').focus();
                    return;
                }
            }
        }

        function moveToPrevRow(currentInput) {
            const cell = currentInput.parentElement;
            const row = parseInt(cell.dataset.row);
            const col = parseInt(cell.dataset.col);
            
            for (let newRow = row - 1; newRow >= 0; newRow--) {
                const prevCell = document.querySelector(`[data-row="${newRow}"][data-col="${col}"]`);
                if (prevCell && prevCell.classList.contains('input')) {
                    prevCell.querySelector('input').focus();
                    return;
                }
            }
        }

        function updateStats() {
            let correct = 0;
            const total = inputCells.length;
            
            inputCells.forEach(([row, col]) => {
                const cell = document.querySelector(`[data-row="${row}"][data-col="${col}"]`);
                const input = cell.querySelector('input');
                const userAnswer = input.value.trim();
                const correctAnswer = solution[row][col];
                
                if (userAnswer === correctAnswer) {
                    correct++;
                }
            });

            document.getElementById('correctCount').textContent = correct;
            document.getElementById('progressPercent').textContent = Math.round((correct / total) * 100) + '%';
        }

        function checkAnswers() {
            let correct = 0;
            const total = inputCells.length;
            
            inputCells.forEach(([row, col]) => {
                const cell = document.querySelector(`[data-row="${row}"][data-col="${col}"]`);
                const input = cell.querySelector('input');
                const userAnswer = input.value.trim();
                const correctAnswer = solution[row][col];
                
                cell.classList.remove('correct', 'incorrect');
                
                if (userAnswer === correctAnswer) {
                    cell.classList.add('correct');
                    correct++;
                } else if (userAnswer) {
                    cell.classList.add('incorrect');
                }
            });

            updateStats();

            const resultMessage = document.getElementById('resultMessage');
            resultMessage.style.display = 'block';
            
            if (correct === total) {
                resultMessage.className = 'result-message result-success';
                resultMessage.innerHTML = 'ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! ëª¨ë“  ë¬¸ì œë¥¼ ì™„ë²½í•˜ê²Œ í•´ê²°í–ˆìŠµë‹ˆë‹¤! ğŸ‰<br><small>ë›°ì–´ë‚œ ì–´íœ˜ë ¥ê³¼ ì¶”ë¦¬ë ¥ì„ ë³´ì—¬ì£¼ì…¨ë„¤ìš”!</small>';
            } else {
                resultMessage.className = 'result-message';
                resultMessage.style.background = 'linear-gradient(135deg, #fdcb6e, #e17055)';
                resultMessage.style.color = 'white';
                const percentage = Math.round((correct / total) * 100);
                resultMessage.innerHTML = `${correct}/${total} ì •ë‹µ (${percentage}%)ì…ë‹ˆë‹¤. ì¡°ê¸ˆ ë” ë„ì „í•´ë³´ì„¸ìš”! ğŸ’ª`;
            }

            setTimeout(() => {
                resultMessage.style.display = 'none';
            }, 4000);
        }

        function getHint() {
            if (hintUsed >= maxHints) {
                alert('íŒíŠ¸ë¥¼ ëª¨ë‘ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.');
                return;
            }

            const emptyCells = [];
            inputCells.forEach(([row, col]) => {
                const cell = document.querySelector(`[data-row="${row}"][data-col="${col}"]`);
                const input = cell.querySelector('input');
                if (!input.value.trim()) {
                    emptyCells.push({cell, row, col});
                }
            });

            if (emptyCells.length === 0) {
                alert('ëª¨ë“  ì¹¸ì´ ì±„ì›Œì ¸ ìˆìŠµë‹ˆë‹¤!');
                return;
            }

            const randomCell = emptyCells[Math.floor(Math.random() * emptyCells.length)];
            const input = randomCell.cell.querySelector('input');
            input.value = solution[randomCell.row][randomCell.col];
            input.style.color = '#4CAF50';
            input.style.fontWeight = 'bold';
            
            hintUsed++;
            document.getElementById('hintCount').textContent = maxHints - hintUsed;
            updateStats();
            
            if (hintUsed >= maxHints) {
                const hintBtn = document.querySelector('.hint-btn');
                hintBtn.disabled = true;
                hintBtn.textContent = 'ğŸ’¡ íŒíŠ¸ ì—†ìŒ';
            }
        }

        function clearAll() {
            inputCells.forEach(([row, col]) => {
                const cell = document.querySelector(`[data-row="${row}"][data-col="${col}"]`);
                const input = cell.querySelector('input');
                input.value = '';
                input.style.color = '';
                input.style.fontWeight = '';
                cell.classList.remove('correct', 'incorrect');
            });

            document.getElementById('resultMessage').style.display = 'none';
            updateStats();
            
            hintUsed = 0;
            document.getElementById('hintCount').textContent = maxHints;
            const hintBtn = document.querySelector('.hint-btn');
            hintBtn.disabled = false;
            hintBtn.textContent = 'ğŸ’¡ íŒíŠ¸';
        }

        // ì´ˆê¸°í™”
        createGrid();
        updateStats();
    </script>
</body>
</html>
